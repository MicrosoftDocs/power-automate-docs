---
title: Datetime hierarchy in semantic model in Fabric workspace
description: Learn how to create a datetime hierarchy for datetime columns in the Power Automate Process Mining semantic model in Fabric workspace.
author: rosikm
contributors:
  - rosikm
  - v-aangie
ms.service: power-automate
ms.subservice: process-advisor
ms.topic: concept-article
ms.date: 08/01/2025
ms.author: michalrosik
ms.reviewer: angieandrews
search.audienceType: 
  - flowmaker
  - enduser
#customer intent: As a business process analyst, I want to learn how to create a datetime hiararchy for datetime columns in the Power Automate Process Mining semantic model in Fabric workspace.
---

# Datetime hierarchy in semantic model in Fabric workspace

In Fabric export, data is stored in Lakehouse tables, with a semantic model built on top. This article explains how to enable datetime hierarchies for multiple datetime columns in the semantic model. This allows for detailed visuals grouped by time periods such as year or month.

## Create a datetime hierarchy

To enable a datetime hierarchy for a datetime column, a custom semantic model can be created based on the semantic model generated by Power Automate Process Mining in the Fabric workspace. New columns or tables should be added to this custom semantic model, which can then be used to create reports.

This approach enables the hierarchy for one datetime column at a time. The process must be repeated for each column requiring a datetime hierarchy.

To enable datetime hierarchies for the relevant datetime columns, perform the following steps.

## Create a custom model on top of the semantic model

1. In Power BI Desktop<!--please provide link-->, navigate to the report created in the Fabric workspace, and then download and open it.<!--please either say how to do this or if an article already exists, link to it. Users might get stuck with no direction. Also, when do you see the following screenshot? I have PBI Desktop open and I don't know what to do.-->

    :::image type="content" source="media/process-mining-fabric-datetime-hierarchy/1-download.png" alt-text="Screenshot of downloading the report.":::

1. In Power BI Desktop, create a local model from this semantic model.

    1. Under the **Modeling** tab, select **Make changes to this model**.
    1. In the dropdown, select **Add a local model**.

1. If you get an error that says, *Something went wrong. You don't have permissions to the underlying external semantic model*, here's how to resolve it. Reconnect the data source by doing the following:
  
    1. Select **Transform Data/Data source settings**.
    1. Select your semantic model from the list (usually it's the first one).
    1. Retry step 2.

1. Go to [Create a Derived Date column for the Datetime column](#create-a-derived-date-column-for-the-datetime-column).

## Create a Derived Date column for the Datetime column

Datetime hierarchies work only with the date portion of a column, not time values. To use the hierarchy, create a separate date-only column in the same table as the original datetime column.

Ignore this step if the column contains only date and not time portion.

1. Navigate to the table containing the original datetime column.
1. From the table context menu, select **New column**.
1. To create the column, use the following DAX query and replace the placeholders with specific column names.

```
<DateColumnName> = DATE(YEAR(<OriginalColumnName>), MONTH(<OriginalColumnName>), DAY(<OriginalColumnName>))
```

Example:

:::image type="content" source="media/process-mining-fabric-datetime-hierarchy/6-create-column.png" alt-text="Screenshot of date column DAX query example.":::

1. Go to [Create a date dimension table](#create-a-date-dimension-table).

## Create a date dimension table  

Create a date dimension table. The dimension table contains the definition of all the date hierarchy related columns.

1. From the **Date** column you created in [Create a Derived Date column for the Datetime column](#create-a-derived-date-column-for-the-datetime-column), find out the minimum and maximum value of the date to determine the date range that the table supports.

1. In the Power BI desktop, make sure that TMDL is enabled. Learn how to enable it in [Use Tabular Model Definition Language (TMDL) view in Power BI Desktop (preview)](/power-bi/transform-model/desktop-tmdl-view).

1. Create a new date dimension table using the following TMDL script:

```
createOrReplace

    table DateDimensionTable
        lineageTag: 9627fbc7-c42d-4acb-854a-b39ff7f902c3

        column Date
            isHidden
            formatString: General Date
            lineageTag: 39fe40c8-736c-42d4-b2aa-6342000a2287
            summarizeBy: none
            isNameInferred
            sourceColumn: [Date]

            annotation SummarizationSetBy = Automatic

        column Year = YEAR([Date])
            isHidden
            formatString: 0
            lineageTag: 87f03e1f-a735-406c-be76-dbcd26b92298
            summarizeBy: none

            annotation SummarizationSetBy = User

        column MonthNo = MONTH([Date])
            isHidden
            formatString: 0
            lineageTag: cd07e9b9-7bf5-4b47-b5b0-e3db151ff584
            summarizeBy: none

            annotation SummarizationSetBy = User

        column Month = FORMAT([Date], "MMMM")
            isHidden
            lineageTag: ddadcb87-cf94-4ceb-9274-b21ba3a3c94f
            summarizeBy: none
            sortByColumn: MonthNo

            annotation SummarizationSetBy = Automatic

        column Day = DAY([Date])
            isHidden
            formatString: 0
            lineageTag: a53cad7c-133a-4126-a9e8-432f1038c1d0
            summarizeBy: none

            annotation SummarizationSetBy = User

        hierarchy 'Date Hierarchy'
            lineageTag: 88573fde-2f98-4d95-b9e5-526d1e99e9bd

            level Year
                lineageTag: 1ca15d6d-c5b7-40f1-80fe-0cd0e6f81177
                column: Year

            level Month
                lineageTag: e4a8f91f-f17d-44f0-a820-b096efaab124
                column: Month

            level Day
                lineageTag: b84594ad-151b-48e0-a145-491859d6ade3
                column: Day

        partition DateDimensionTable = calculated
            mode: import
            source =
                    VAR startDateYear = YEAR(MIN(TableName[ColumnName]))
                    VAR endDateYear = YEAR(MAX(TableName[ColumnName]))
                    RETURN CALENDAR(Date(startDateYear, 1, 1), Date(endDateYear, 12, 31))
```

    The *lineageTag* is optional and can be removed. They're unique GUIDs and should be replaced if used. Read more about lineageTag and how to use them in [Lineage tags for Power BI semantic models](h/analysis-services/tom/lineage-tags-for-power-bi-semantic-models?view=asallproducts-allversions).

1. Make sure to replace the values of *TableName* and *ColumnName*:

    - **TableName**: Name of the table containing the datetime column for which date hierarchy will be enabled.
    - **ColumnName**: Name of the datetime column for which date hierarchy will be enabled.  

    You can also rename the newly created table by replacing the *DateDimensionTable* with your custom name.

1. The date hierarchy here contains *year*, *month*, and *day*, but this can be extended to add more elements. If you want to create even more detailed date dimension table, learn more in [DAX Date table in TMDL](https://www.datazoe.blog/post/dax-date-table-in-tmdl).

    Once you create it, the datetime dimension table looks like this:<!--This say datetime dimension; the alt-text says date dimension; the screenshot title says DateDimensionTable. Which is correct?-->

    :::image type="content" source="media/process-mining-fabric-datetime-hierarchy/7-dimension-table.png" alt-text="Screenshot of a newly created date dimension table.":::

1. Go to [Create a relationship between the Date column and date dimension table](#create-a-relationship-between-the-date-column-and-date-dimension-table)

## Create a relationship between the Date column and date dimension table

Create a new relationship between the **Date** column in the date dimension table and the **Date** column created in the first step<!--please use a link instead of 'first step'; or, type in the name of the heading and I'll add the link>.

1. Navigate to the data model view.
1. Drag and drop the date column in the first step to the **Date** column in the date dimension table.<!--please use a link instead of 'first step'; or, type in the name of the heading and I'll add the link>.

    :::image type="content" source="media/process-mining-fabric-datetime-hierarchy/8-relationship.png" alt-text="Screenshot of creating a relationship between date column and date dimension table.":::

1. Set the properties and save the relationship.<!--provide a link to the article that explains how to do this, or explain it here.-->

1. Go to [(Optional) Mark the date dimension table as the Date table](#optional-mark-the-date-dimension-table-as-the-date-table).

## (Optional) Mark the date dimension table as the Date table

This step is optional, and is only for report visuals. You can mark the date dimension table as the **Date** table.

1. Right-click on the *DateDimensionTable* and select **Mark as date table**.<!--Say where you are, such as 'On the...', do this. Also, can you select other than right-click? we can't assume everyone uses a mouse - it's not inclusive.-->

1. Go to [Save and publish the report](#save-and-publish-the-report).

## Save and publish the report

You can now use the newly created datetime hierarchy in your report visuals.

After you finish all changes, save and publish your report.

