---
title: Create a custom connector for an approval flow
description: Learn how to create a custom connector to use in an approval flow.
services: ''
suite: flow
documentationcenter: na
author: kewaiss
contributors:
  - natalie-pienkowska
  - kartikraop
  - v-aangie
ms.author: derahonuorah
ms.reviewer: angieandrews
ms.service: power-automate
ms.subservice: teams
ms.topic: conceptual
ms.date: 01/13/2021
search.audienceType: 
  - flowmaker
  - enduser
---
# Microsoft Teams approvals with custom connectors

You can use the approvals hub in Microsoft Teams to quickly integrate approvals workflows into existing line of business apps that do not have their own approvals system. You achieve this by using a custom connector to 'connect' to the existing line of business apps. 

> [!TIP]
> When you use the approvals hub, you get to manage all your approvals in a central location. 

This article shows you how to:

- Create a custom connector.
- Add a trigger and actions to a custom connector.
- Create an approval flow.
- Use the approvals hub in Teams to manage approvals that you created with the flow.

## Prerequisites

-  One of the following subscriptions:

    -  [Power Automate](../sign-up-sign-in.md)

    -  [Power Apps](/powerapps/signup-for-powerapps)

-  Basic experience building [flows](../get-started-logic-flow.md) and [custom connectors](/connectors/custom-connectors/define-openapi-definition).

## Create a custom connector

1. Sign in to [Power Automate](https://make.powerautomate.com).

1. Expand **Data**, and then select **Custom connectors**.

1. Select **New custom connector**, and then **Create from blank** from the dropdown list.

1. In the **Connector name** field, enter a name for the custom connector, and then select **Continue**.

1. In **General Information**, enter a **Description** and a **Host**.

1. At the bottom of the screen, select **Security**.

1. Select the authentication type that your API uses.

1. At the bottom of the screen, select **Definition**.

## Add a trigger

You need a trigger to serve as the first step in the approval flow that you'll create. 

Some common approval triggers are:

- When a new row is created.
- Wen a row is updated.

>[!TIP]
>Both Webhook and polling triggers work with approval flows.

1. Continuing from the earlier steps, select **New Trigger** in the Triggers list.

   ![A screenshot that shows the expanded triggers list and the option to create a new trigger.](../media/approvals-custom-connector/624e25e74778774e314b5c93fa077f01.png)

1. Enter a **Summary**, **Description**, **Operation ID**, and select a **Trigger type**.

1. Select either **important** or **advanced** for the **visibility** the trigger to make the trigger available when you create the approval flow.

1. Below the **Request** heading, select **Import from sample.**

1. Define the **Verb**, **URL**, **Headers**, and **Body** for your trigger.

    :::image type="content" source="../media/approvals-custom-connector/4dcc9c0ce9b25f2504ee82e5e27d76bb.png" alt-text="Screenshot that shows the sample options that you can select.":::

1. Add a response.

   The response configuration depends on your trigger type (Webhook or polling). Webhook triggers require a callback URL parameter and a location header that contains a value that's used to delete the Webhook registration.

1. Configure the **Webhook Response** and **Trigger configuration**.

 1. Configure the **polling response** to meet your needs.

1. Configure the trigger to meet your needs.

## Create an approval flow

Now that you've created your custom connector, it's time to create your approval flow that uses the custom connector.

1. Sign in to [Power Automate](https://make.powerautomate.com).

1. Select **New flow**, and then select **Automated cloud flow**.

1. Select **Skip** on the **Build an automated cloud flow** screen.

1. Select the **Custom** tab, and then select your new custom connector.

1. Select a trigger from your custom connector.

1. Select **New step**.

1. Search for "approvals", and then select **Start and wait for an approval**.


1. Select the **Approval type**, and then populate the required fields on the **Start and wait for an approval** card.

1. Select **New step** > **Control** > **Condition**.

1. Select the **Choose a value** text box, and then search the dynamic content for "Responses Approver response".

1. Update the condition with the desired result.

   > [!IMPORTANT]
   > The "Approve" or "Reject" approval responses are case sensitive.

   ![Completed condition card.](../media/approvals-custom-connector/a5cb9748124b88f42e5234616028ea3b.png)

1. Add an action in both condition result sections.

   ![Condition branches populated with actions.](../media/approvals-custom-connector/159934da4bc317044f5bca8ff9f67c0d.png)

## Manage approvals generated by the approval flow

1. Sign in to [Microsoft Teams](https://teams.microsoft.com).

1. Search for the **approvals** app, and then select it.

 1. View your received and sent approvals.

1. Take an action that activates your custom connector’s trigger.

1. View the new approval request in flow run history.

 1. View the new approval request in the approvals app.

1. Select the approval request, review the details, and then select **Reject** or **Approve**.

   ![Reject or approve the request.](../media/approvals-custom-connector/b43b7c906abef980758448a959274309.png)

1. View the completed approval request in flow run history.

1. View the completed approval request in approvals app.

1. Confirm in the target system the approval completion update steps were executed successfully.

## Related information

- [Create a custom connector from scratch](/connectors/custom-connectors/define-blank)
- [Use a Webhook as a trigger for Azure Logic Apps and Power Automate](/connectors/custom-connectors/create-webhook-trigger)
- [Use a polling trigger for Microsoft Power Automate](/connectors/custom-connectors/create-polling-trigger)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
